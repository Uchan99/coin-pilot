
## 8. 고도화 로드맵 (Week 8 이후)

### 8.1 비서 챗봇 고도화 계획
Week 7에서 구현된 기본 챗봇(SQL Agent + RAG Agent + General Chat)을 개인 비서 수준으로 발전시킵니다.

**목표**: 대시보드 어디서든 접근 가능한 플로팅 챗봇으로, 맥락을 기억하고 다양한 정보를 제공하는 AI 비서

---

### Phase 1: 플로팅 UI + Agent Memory (🔴 높음)

| 항목 | 설명 |
|------|------|
| **플로팅 챗봇 UI** | 대시보드 우측 하단 팝업 형태, 모든 탭에서 대화 기록 유지 |
| **Agent Memory** | pgvector 활용, 이전 대화 맥락 기억 및 유사 상황 참조 |
| **구현 방식** | `streamlit-float` 또는 Custom CSS, `st.session_state` 기반 기록 유지 |

**예상 대화:**
```
사용자: "어제 물어본 손절 규칙 다시 알려줘"
비서: "어제 말씀드린 손절 규칙은 -3% 도달 시 자동 청산입니다."
```

---

### Phase 2: Volatility Model + 백테스팅 조회 (🟡 중간)

| 항목 | 설명 |
|------|------|
| **Volatility Model 연동** | GARCH 기반 변동성 예측 결과를 챗봇에서 조회 |
| **백테스팅 리포트** | 샤프 비율, MDD, 기간별 수익률 조회 |
| **Tool 추가** | `volatility_tool`, `backtest_report_tool` |

**예상 대화:**
```
사용자: "현재 변동성 어때?"
비서: "현재 비트코인 변동성은 '높음' 수준입니다. 포지션 50% 축소를 권장합니다."

사용자: "이번 달 전략 성과 보여줘"
비서: "이번 달 수익률 +3.2%, 샤프 비율 1.8, MDD -2.1%입니다."
```

---

### Phase 3: 뉴스 RAG + 일간 리포트 (🟡 중간)

| 항목 | 설명 |
|------|------|
| **뉴스 RAG 확장** | 외부 뉴스 소스 임베딩, 리스크 키워드 감지 강화 |
| **일간 리포트 생성** | 거래 요약, 손익, 주요 이벤트 자동 요약 |
| **n8n 연동** | 리포트 자동 생성 워크플로우 |

**예상 대화:**
```
사용자: "비트코인 관련 이슈 있어?"
비서: "최근 SEC 관련 규제 뉴스가 있습니다. 주의가 필요합니다."

사용자: "오늘 거래 요약해줘"
비서: "오늘 2건 거래, 총 손익 +1.5%, BTC 1회 매수/매도 완료했습니다."
```

---

### Phase 4: MCP + 거래 권한 (🟢 낮음 / Optional)

| 항목 | 설명 |
|------|------|
| **MCP (Model Context Protocol)** | Claude Desktop 등 외부 LLM 클라이언트에서 CoinPilot 접근 |
| **거래 실행 권한** | 현재 읽기 전용 → 인증된 명령으로 실제 매매 실행 |
| **보안** | 2단계 인증, 거래 한도 설정 |

**예상 대화:**
```
사용자: "비트코인 총 자산의 3% 매수해줘"
비서: "매수 주문을 실행합니다. [확인 코드: 1234] 입력해주세요."
```

---

### 8.2 고도화 일정 (예상)

| Phase | 예상 기간 | 선행 조건 |
|-------|----------|----------|
| Phase 1 | 2-3일 | Week 8 완료 |
| Phase 2 | 3-4일 | Volatility Model 구현 (Week 8) |
| Phase 3 | 3-4일 | n8n 워크플로우 고도화 (Week 8) |
| Phase 4 | 별도 검토 | 실거래 전환 결정 시 |

---

### 8.3 기술 스택 추가

| 구분 | 기술 | 용도 |
|------|------|------|
| **Floating UI** | streamlit-float / Custom CSS | 플로팅 챗봇 |
| **Memory** | pgvector + LangChain Memory | 대화 맥락 저장 |
| **News Source** | RSS Feed / News API | 뉴스 RAG 확장 |
| **MCP** | Anthropic MCP Spec | 외부 연동 (Optional) |