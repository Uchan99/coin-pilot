# 18-13. OCI 24시간 운영 모니터링 점검표 정식화 계획

**작성일**: 2026-02-26  
**작성자**: Codex (GPT-5)  
**상태**: Approved  
**관련 계획 문서**: `docs/work-plans/18-12_wsl_oci_local_cloud_operations_master_runbook_plan.md`  
**승인 정보**: 사용자 채팅 승인(2026-02-26, "만들어 주면 좋을 것 같아")

---

## 0. 트리거(Why started)
- 운영 기준 자본(100만원) 반영 후 사용자 요청으로 24시간 모니터링 점검표(runbook용) 문서화가 필요해짐.
- 현재 점검 루틴은 "매일 시작/매주" 수준이며, 전환 직후 24시간 관측 체크포인트가 명시돼 있지 않음.

## 1. 문제 요약
- 증상:
  - 운영자가 같은 항목을 매번 수동으로 떠올려 점검하는 구조
  - 장애/누락을 발견하는 시점이 운영자 숙련도에 좌우됨
- 영향 범위(기능/리스크/데이터/비용):
  - 기능: 장애 감지 지연 가능
  - 리스크: 알림/메트릭 공백을 늦게 인지할 수 있음
  - 데이터: bot/n8n/모니터링 로그의 연속성 검증 누락 가능
  - 비용: 장애 지속 시 운영 비용/시간 비용 증가
- 재현 조건:
  - 배포 직후 또는 설정 변경 직후 24시간 집중 모니터링 단계

## 2. 원인 분석
- 가설:
  - 점검 기준은 있으나 시간축(0h/1h/6h/12h/24h) 기준의 표준 절차가 부재함
- 조사 과정:
  - `docs/runbooks/18_wsl_oci_local_cloud_operations_master_runbook.md`의 점검 섹션 확인
  - 기존 섹션이 "주기형(매일/매주)" 위주임을 확인
- Root cause:
  - 운영 전환기용 24시간 체크리스트가 마스터 runbook에 표준화되지 않음

## 3. 대응 전략
- 단기 핫픽스:
  - 마스터 runbook에 "24시간 운영 점검표" 섹션 추가
- 근본 해결:
  - 체크포인트별(0h/1h/6h/12h/24h) 명령/성공 기준/이상 조치 기준을 고정
- 안전장치(가드레일/차단/쿨다운/timeout 등):
  - bot 치명 오류 키워드 점검과 Grafana 룰 상태 점검을 모든 체크포인트에서 반복

## 4. 구현/수정 내용
- 변경 파일:
  - `docs/runbooks/18_wsl_oci_local_cloud_operations_master_runbook.md`
  - `docs/PROJECT_CHARTER.md`
  - `docs/work-result/18-13_oci_24h_monitoring_checklist_result.md` (신규)
- DB 변경(있다면):
  - 없음
- 주의점:
  - 운영 명령은 OCI 기준(`/opt/coin-pilot/deploy/cloud/oci`)으로 고정

## 5. 검증 기준
- 재현 케이스에서 해결 확인:
  - runbook만 보고 24시간 점검 루틴을 그대로 수행 가능한지 확인
- 회귀 테스트:
  - 기존 "매일 시작/매주" 체크리스트 내용과 충돌 없이 공존하는지 확인
- 운영 체크:
  - 점검표에 명령, 기대 결과, 이상 조치 조건이 모두 명시되어 있는지 확인

## 6. 롤백
- 코드 롤백:
  - 문서 변경 revert
- 데이터/스키마 롤백:
  - 없음

## 7. 문서 반영
- work-plan/work-result 업데이트:
  - `18-13` plan/result 신규 생성
- PROJECT_CHARTER.md 업데이트 필요 여부 및 반영 내역:
  - 필요(문서 참조 및 changelog 갱신)

## 8. 후속 조치
- 다음에 유사 문제 방지를 위한 작업:
  1) 21번 실거래 전환 진행 시, 동일 섹션에 "실거래 모드 점검항목" 확장
  2) 24시간 체크 결과를 주간 운영 리포트 템플릿으로 연계

## 9. 아키텍처 선택/대안/트레이드오프
- 최종 선택:
  - 기존 마스터 runbook 내에 24시간 점검표를 별도 하위 섹션으로 추가
- 대안:
  1) 별도 runbook 신규 생성
  2) 기존 "매일 시작" 섹션만 확장
  3) 마스터 runbook 하위 섹션 추가(채택)
- 채택 이유:
  - 1은 문서 분산으로 탐색 비용 증가
  - 2는 24시간 집중 관측 목적이 희석됨
  - 3은 기존 운영 흐름을 유지하면서 전환기 점검 절차를 명확히 분리 가능

