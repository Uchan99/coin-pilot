# 19-01. Plan 승인 게이트(사용자 확인 후 구현) 워크플로우 정책 개정 계획

**작성일**: 2026-02-26  
**작성자**: Codex (GPT-5)  
**상태**: Approved  
**상위 계획 문서**: `docs/work-plans/19_epic_subtask_doc_structure_refactor_plan.md`  
**관련 정책 문서**: `AGENTS.md`, `docs/PROJECT_CHARTER.md`  
**승인 정보**: 사용자 승인(2026-02-26, 채팅 확인)  

---

## 0. 트리거(Why started)
- 사용자 요청:
  - 현재 AGENTS 워크플로우(`plan -> implement -> result`)에
  - **“plan 작성 후 사용자 확인/승인” 단계**를 강제하고 싶음.
- 배경:
  - 구현 전에 방향/범위 오해를 줄이고, 변경 승인 이력을 명확히 남기기 위함.

## 1. 문제 요약
- 증상:
  - 현 규칙상 plan 작성 직후 바로 구현으로 진행 가능
- 영향 범위:
  - 범위 오해 시 불필요 구현/롤백 발생 가능
  - 운영 정책 변경의 승인 이력 추적성 약화
- 재현 조건:
  - 요구사항이 복합적이거나 정책 변경이 포함된 작업

## 2. 원인 분석
- Root cause:
  - 문서화 워크플로우에 “승인 게이트”가 명시되지 않음
- 조사 결과:
  - `AGENTS.md`의 Required workflow는 1) plan 2) implement 순서이며 승인 단계 없음

## 3. 대응 전략

### 3.1 최종 선택(채택)
- **명시적 승인 게이트 추가**
  - Step 1.5: Plan 작성 후 사용자 확인/승인
  - 승인 전에는 구현/배포/마이그레이션 금지
  - 긴급 장애 대응 시 예외 정책(사후 승인 기록) 명문화

### 3.2 대안 검토
1. 현행 유지
- 장점: 속도 빠름
- 단점: 요구 오해/재작업 리스크 유지

2. 구두 승인만 권고(문서 미반영)
- 장점: 유연성
- 단점: 감사 가능성/일관성 부족

3. 모든 작업에 강제 PR 승인만 사용
- 장점: 형식적 통제 강화
- 단점: 로컬 운영/긴급 대응 흐름과 충돌 가능

4. **Plan 승인 게이트 + 긴급 예외(채택)**
- 장점: 통제와 실무 유연성 균형
- 단점: 승인 대기 시간 증가 가능

## 4. 구현/수정 내용 (예정)
- 변경 파일:
  - `AGENTS.md` (Required workflow 단계 개정)
  - `docs/PROJECT_CHARTER.md` (운영 규칙 및 changelog 반영)
  - 필요 시 `docs/templates/work-plan.template.md` (승인 섹션 추가)
- 정책 초안:
  - plan 상태값에 `Approval Pending`/`Approved` 사용
  - plan 문서에 승인자/승인시각/승인 코멘트 기록 필드 추가

## 5. 검증 기준
- 정책 검증:
  - 신규 작업에서 plan 작성 후 승인 메시지/기록 없이 구현이 시작되지 않는지 확인
- 문서 정합:
  - AGENTS와 CHARTER 규칙이 상충하지 않는지 확인
- 회귀:
  - 기존 numbering/traceability 규칙과 충돌 없는지 확인

## 6. 롤백
- 문서 롤백:
  - AGENTS/CHARTER 변경 전 버전으로 복원
- 운영 롤백:
  - 승인 게이트를 “권고” 수준으로 일시 하향(필요 시)

## 7. 문서 반영
- work-plan/work-result:
  - 본 계획 승인 후 정책 반영 및 결과 문서 작성
- PROJECT_CHARTER.md:
  - 필요(운영 정책 변경이므로 changelog 필수)

## 8. 후속 조치
- 작업 템플릿 표준화:
  - plan 템플릿에 승인 체크 블록 공통화
- 감사 용이성 강화:
  - result 문서에 승인 참조 링크 필수화 검토

## 9. 변경 이력
- 2026-02-26: 초안 작성 (Approval Pending)
- 2026-02-26: 사용자 승인 반영, 정책 반영 단계 착수
