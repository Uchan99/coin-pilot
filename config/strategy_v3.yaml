# config/strategy_v3.yaml

regime_detection:
  ma_fast_period: 50
  ma_slow_period: 200
  bull_threshold_pct: 2.0
  bear_threshold_pct: -2.0
  check_interval_hours: 1
  unknown_fallback: "SIDEWAYS"
  redis_ttl_seconds: 3900

data:
  source_timeframe: "1m"
  indicator_timeframe: "1h"
  min_hourly_candles_for_regime: 200

regimes:
  BULL:
    entry:
      rsi_14_max: 45
      rsi_7_trigger: 40
      rsi_7_recover: 40
      ma_condition: "crossover"
      ma_period: 20
      volume_ratio: 1.2
    exit:
      take_profit_pct: 0.05
      stop_loss_pct: 0.03
      trailing_stop_pct: 0.03
      trailing_stop_activation_pct: 0.01
      rsi_overbought: 75
      rsi_exit_min_profit_pct: 0.01
      time_limit_hours: 72
    position_size_ratio: 1.0

  SIDEWAYS:
    entry:
      rsi_14_max: 40
      rsi_7_trigger: 35
      rsi_7_recover: 35
      ma_condition: "proximity"
      ma_period: 20
      ma_proximity_pct: 0.97
      bb_enabled: true
      bb_period: 20
      bb_std: 2.0
      bb_touch_lookback: 3
      volume_ratio: 1.0
    exit:
      take_profit_pct: 0.03
      stop_loss_pct: 0.04
      trailing_stop_pct: 0.025
      trailing_stop_activation_pct: 0.01
      rsi_overbought: 70
      rsi_exit_min_profit_pct: 0.01
      time_limit_hours: 48
    position_size_ratio: 0.8

  BEAR:
    entry:
      rsi_14_max: 40
      rsi_7_trigger: 30
      rsi_7_recover: 30
      ma_condition: "proximity"
      ma_period: 20
      ma_proximity_pct: 0.97
      volume_ratio: null
    exit:
      take_profit_pct: 0.03
      stop_loss_pct: 0.05
      trailing_stop_pct: 0.02
      trailing_stop_activation_pct: 0.01
      rsi_overbought: 70
      rsi_exit_min_profit_pct: 0.005
      time_limit_hours: 24
    position_size_ratio: 0.5
